System.register(["jimu-core"],(function(e,t){var n={};return{setters:[function(e){n.appActions=e.appActions,n.getAppStore=e.getAppStore,n.i18n=e.i18n,n.moduleLoader=e.moduleLoader,n.translatedLocales=e.translatedLocales}],execute:function(){e((()=>{"use strict";var e={810:e=>{e.exports=n}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{o.r(r),o.d(r,{TemplateType:()=>e,getAppTemplates:()=>c,getBlockTemplates:()=>g,getFooterTemplates:()=>f,getFullScreenPageTemplates:()=>u,getHeaderTemplates:()=>d,getScreenGroupTemplates:()=>m,getScreenTemplates:()=>h,getScrollingPageTemplates:()=>s,getTemplateConfig:()=>v,getWindowTemplates:()=>p,init:()=>l,loadI18nMessage:()=>y});var e,t=o(810);!function(e){e.Block="block",e.Header="header",e.Footer="footer",e.FullScreenPage="full-screen-page",e.ScrollingPage="scrolling-page",e.Window="window",e.ScreenGroup="screen-group",e.Screen="screen",e.App="app"}(e||(e={}));var n=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function l(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}c((o=o.apply(e,t||[])).next())}))};let i=null,a={};function l(){return n(this,void 0,void 0,(function*(){return yield y(),yield function(){if(i)return i;const e=(0,t.getAppStore)().getState().appContext.translatedLocale,n=t.moduleLoader.resolveModuleFullPath("templates/");return i=fetch(`${n}templates-info.json`).then((e=>e.json())).then((t=>(a=t,Object.keys(a).forEach((t=>{a[t].forEach((t=>{const o=`${n}${t.type}/${t.name}`;t.label=t.i18nLabel[e]||t.label||t.name,t.description=t.i18nDescription[e]||t.description||"",t.thumbnail=`${o}/${t.thumbnail}`,t.gifThumbnail&&(t.gifThumbnail=`${o}/${t.gifThumbnail}`),t.configUrl=`${o}/config.json`}))})),a))),i}()}))}function c(){return a.app||[]}function u(){return a["full-screen-page"]||[]}function s(){return a["scrolling-page"]||[]}function p(){return a.window||[]}function d(){return a.header||[]}function f(){return a.footer||[]}function g(){return a.block||[]}function m(){return a["screen-group"]||[]}function h(){return a.screen||[]}function v(e,t){return n(this,void 0,void 0,(function*(){return yield fetch(`../templates/${e}/${t}/config.json`).then((e=>n(this,void 0,void 0,(function*(){return yield e.json()})))).then((e=>e))}))}function y(){return n(this,void 0,void 0,(function*(){const e=(0,t.getAppStore)().getState().appContext.locale;return yield function(e,o){return n(this,void 0,void 0,(function*(){if(e=t.i18n.getLocaleToLoad(e,o)){const n=t.moduleLoader.resolveModuleFullPath("templates/");return yield t.i18n.loadLocaleMessages(`${n}/translations`,e).then((e=>e))}return Promise.resolve({})}))}(e,t.translatedLocales).then((e=>(e&&(0,t.getAppStore)().dispatch(t.appActions.i18nMessagesLoaded("templates",e)),e)))}))}})(),r})())}}}));